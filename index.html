<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biosz kvíz</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Biosz kvíz</h1>
<div id="timer">30</div>

<div id="quizBox"></div>

<button id="startBtn" onclick="startQuiz()">Kezdés</button>

<div id="resultBox"></div>

<button id="showAnswersBtn" style="display:none;">Válaszok megtekintése</button>
<div id="answersList" style="display:none;"></div>

<div id="stopScreen">STOP</div>

<script>
let questions = [
    {
        question: "Melyik élőlény fotoszintetizál?",
        answers: ["Gomba", "Zöld növény", "Baktérium"],
        correct: 1
    },
    {
        question: "Melyik szerv pumpálja a vért?",
        answers: ["Tüdő", "Szív", "Gyomor"],
        correct: 1
    }
];

let current = 0;
let score = 0;
let timeLeft = 30;
let timer;
let userAnswers = [];

function startQuiz() {
    document.getElementById("startBtn").style.display = "none";
    document.getElementById("stopScreen").style.display = "none";
    showQuestion();
    startTimer();
}

function startTimer() {
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").innerText = timeLeft;

        if (timeLeft <= 0) {
            clearInterval(timer);
            showStopScreen();
        }
    }, 1000);
}

function showQuestion() {
    let q = questions[current];
    let html = `<div class='question'><h3>${q.question}</h3>`;

    q.answers.forEach((ans, i) => {
        html += `<button onclick="answer(${i})">${ans}</button>`;
    });

    html += "</div>";
    document.getElementById("quizBox").innerHTML = html;
}

function answer(i) {
    userAnswers[current] = i;

    if (i === questions[current].correct) score++;

    current++;

    if (current < questions.length) {
        showQuestion();
    } else {
        endQuiz();
    }
}

function endQuiz() {
    clearInterval(timer);
    document.getElementById("quizBox").innerHTML = "";
    document.getElementById("resultBox").innerHTML =
        `<h2>Eredmény: ${score} / ${questions.length}</h2>`;

    document.getElementById("showAnswersBtn").style.display = "block";
}

function showStopScreen() {
    document.getElementById("quizBox").innerHTML = "";
    document.getElementById("stopScreen").style.display = "flex";
}

// --- VÁLASZOK MEGTEKINTÉSE ---
document.getElementById("showAnswersBtn").addEventListener("click", function () {
    let html = "<h2>Helyes válaszok</h2>";

    questions.forEach((q, i) => {
        html += `
            <div style="margin-bottom:20px; padding:10px; border:1px solid #ccc; border-radius:8px;">
                <strong>${i+1}. kérdés:</strong> ${q.question}<br>
                <span style="color:green;"><strong>Helyes válasz:</strong> ${q.answers[q.correct]}</span><br>
                <span style="color:blue;"><strong>A te válaszod:</strong> ${userAnswers[i] !== undefined ? q.answers[userAnswers[i]] : "—"}</span>
            </div>
        `;
    });

    document.getElementById("answersList").innerHTML = html;
    document.getElementById("answersList").style.display = "block";
});
</script>

</body>
</html>
