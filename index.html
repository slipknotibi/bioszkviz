<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biosz kvíz</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Biosz kvíz</h1>
<div id="timer">30</div>

<div id="quizBox"></div>

<button id="startBtn" onclick="startQuiz()">Kezdés</button>

<div id="resultBox"></div>

<button id="showAnswersBtn" style="display:none;">Válaszok megtekintése</button>
<div id="answersList" style="display:none;"></div>

<div id="stopScreen">
    STOP
    <button id="continueBtn">Folytatás</button>
</div>

<script>
let questions = [
    {question:"Melyik állítás igaz az Arktiszra?",answers:["Déli-sark","Északi-sark","Mindkettő"],correct:1},
    {question:"Miért alakul lassan jéggé a sarkvidéki hó?",answers:["Kevés a napsütés","Kevés a csapadék","Alacsony a hőmérséklet"],correct:2},
    {question:"Melyik élőlény NEM él az Antarktiszon?",answers:["Pingvin","Jegesmedve","Fóka"],correct:1},
    {question:"Mi a borjúfóka egyik fontos érzékszerve?",answers:["Farka","Bajusza","Füle"],correct:1},
    {question:"Miért nincs fülkagylója a fókának?",answers:["Jobban halljon","Csökkentse a hőveszteséget","Könnyebben ússzon"],correct:2},
    {question:"A császárpingvin melyik tulajdonsága igaz?",answers:["Repül","A hím költi ki a tojást","Fészket épít"],correct:1},
    {question:"Miért fekete a pingvinek háta?",answers:["Rejtőszín","Hőelnyelés","Mindkettő"],correct:2},
    {question:"Miért nem tudnak ülni a pingvinek?",answers:["Nincs térdük","Rövid a lábuk","Túl nagy a testük"],correct:0},
    {question:"A jegesmedve bőrének színe:",answers:["Fehér","Fekete","Szürke"],correct:1},
    {question:"Miért nem alszik téli álmot a jegesmedve?",answers:["Nincs rá szüksége","Túl hideg van","Folyamatosan vadászik"],correct:0},

    {question:"Mi történik a hőmérséklettel a hegyen felfelé haladva?",answers:["Nő","Csökken","Változatlan"],correct:1},
    {question:"Melyik zóna található a tűlevelű erdő felett?",answers:["Lombhullató erdő","Törpefenyves","Szántóföld"],correct:1},
    {question:"Miért fehérek a havasi gyopár felső levelei?",answers:["Virágszirmok","Fényvisszaverés","Rejtőszín"],correct:1},
    {question:"A zerge patája miért alkalmas a meredek hegyoldalra?",answers:["Széles és rugalmas","Éles és kemény","Hosszú és vékony"],correct:0},
    {question:"A zerge melyik testrésze jelzi a veszélyt?",answers:["Farka","Sörénye","Füle"],correct:1},
    {question:"A szirti sas csőre milyen típusú?",answers:["Rágócsőr","Horgas tépőcsőr","Szűrőcsőr"],correct:1},

    {question:"Melyik mélység alatt van teljes sötétség?",answers:["20 m","200 m","2000 m"],correct:1},
    {question:"Miért van több oxigén a hideg vízben?",answers:["Több fény jut be","Jobban oldja a gázokat","Több plankton él benne"],correct:1},
    {question:"A tengeri sün melyik tulajdonsága igaz?",answers:["Van szeme","Tüskéit mozgatni tudja","Nincs mészváza"],correct:1},
    {question:"A medúza testének hány százaléka víz?",answers:["50%","70%","95%"],correct:2},
    {question:"A kagylók milyen állatok?",answers:["Ragadozók","Planktonszűrők","Növényevők"],correct:1},
    {question:"A barnamoszat miért tud lebegni?",answers:["Könnyű szövetei miatt","Légtömlők miatt","Gyökerei tartják"],correct:1},
    {question:"A szivacsok melyik tulajdonsága igaz?",answers:["Van idegrendszerük","Bimbózással is szaporodnak","Gyorsan úsznak"],correct:1},
    {question:"A heringek miért mozognak rajokban?",answers:["Védekezés és vadászat miatt","Melegedés miatt","Szaporodás miatt"],correct:0},
    {question:"A tonhal milyen hőmérséklettartományban érzi jól magát?",answers:["0–5 °C","3–30 °C","20–40 °C"],correct:1},
    {question:"A cápák miért nem tudnak megállni?",answers:["Nincs úszóhólyagjuk","Túl nehezek","Túl gyorsak"],correct:0},
    {question:"A delfinek hogyan kommunikálnak?",answers:["Illatjelekkel","Füttyökkel","Színváltozással"],correct:1},
    {question:"A palackorrú delfin természetes ellensége:",answers:["Cápa","Tonhal","Medúza"],correct:0},
    {question:"A kardszárnyú delfin melyik állatot is megtámadja?",answers:["Csak halakat","Csak rákokat","Melegvérűeket is"],correct:2},
    {question:"A kékbálna szájában mi található fogak helyett?",answers:["Csontlemezek","Szilák","Porcos tüskék"],correct:1}
];

let current = 0;
let score = 0;
let timeLeft = 30;
let timer;
let userAnswers = [];

function startQuiz() {
    document.getElementById("startBtn").style.display = "none";
    document.getElementById("stopScreen").style.display = "none";
    showQuestion();
    startTimer();
}

function startTimer() {
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").innerText = timeLeft;

        if (timeLeft <= 0) {
            clearInterval(timer);
            showStopScreen();
        }
    }, 1000);
}

function showQuestion() {
    let q = questions[current];
    let html = `<div class='question'><h3>${q.question}</h3>`;

    q.answers.forEach((ans, i) => {
        html += `<button onclick="answer(${i})">${ans}</button>`;
    });

    html += "</div>";
    document.getElementById("quizBox").innerHTML = html;
}

function answer(i) {
    userAnswers[current] = i;

    if (i === questions[current].correct) score++;

    current++;

    if (current < questions.length) {
        showQuestion();
    } else {
        endQuiz();
    }
}

function endQuiz() {
    clearInterval(timer);
    document.getElementById("quizBox").innerHTML = "";

    let percent = Math.round((score / questions.length) * 100);
    let grade = 1;
    if (percent >= 90) grade = 5;
    else if (percent >= 75) grade = 4;
    else if (percent >= 60) grade = 3;
    else if (percent >= 45) grade = 2;

    document.getElementById("resultBox").innerHTML =
        `<h2>Eredmény: ${score} / ${questions.length} (${percent}%)<br>Érdemjegy: ${grade}</h2>`;

    document.getElementById("showAnswersBtn").style.display = "block";
}

function showStopScreen() {
    document.getElementById("quizBox").innerHTML = "";
    document.getElementById("stopScreen").style.display = "flex";
    clearInterval(timer);
}

document.getElementById("continueBtn").addEventListener("click", function () {
    document.getElementById("stopScreen").style.display = "none";
    timeLeft = 30;
    startTimer();
    showQuestion();
});

document.getElementById("showAnswersBtn").addEventListener("click", function () {
    let html = "<h2>Helyes válaszok</h2>";

    questions.forEach((q, i) => {
        html += `
            <div style="margin-bottom:20px; padding:10px; border:1px solid #ccc; border-radius:8px;">
                <strong>${i+1}. kérdés:</strong> ${q.question}<br>
                <span style="color:green;"><strong>Helyes válasz:</strong> ${q.answers[q.correct]}</span><br>
                <span style="color:blue;"><strong>A te válaszod:</strong> ${userAnswers[i] !== undefined ? q.answers[userAnswers[i]] : "—"}</span>
            </div>
        `;
    });

    document.getElementById("answersList").innerHTML = html;
    document.getElementById("answersList").style.display = "block";
});
</script>

</body>
</html>
